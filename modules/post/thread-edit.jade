extends layout

block title
  title Edit Post - #{appName}

block content

  script
    init.add(function () {
      post.initEditForm();
    });

  .side-space
    .page-header
      h2 Edit Post

    form#form
      if post.head
        .form-row
          select.col-lg-4(name='cid')
            for c in user.categoriesOrdered
              option(value=c.id, selected=c.id==category.id) #{c.name}
      .form-row
        label.control-label 이름
        input.input-with-feedback.col-lg-4(type='text', name='writer', value=post.writer, maxlength='32')
      if post.head
        .form-row
          label.control-label 제목
          input.input-with-feedback.col-lg-12(type='text', name='title', value=thread.title, maxlength='128')
      .form-row
        label.control-label 내용
        textarea.input-with-feedback(name='text', rows=13) #{post.text}
      .form-row.file-group.clearfix
        .files.col.col-lg-7
        .actions.col.col-lg-1
          button.btn.btn-default.glyphicon.glyphicon-plus
      if post.files
        .form-row
          for file in post.files
            .checkbox
              label delete #{file.name}
                input(type='checkbox', name='dfiles[]', value=file.name)
      if user.admin
        .form-row
          .checkbox
            label visible
              input(type='checkbox', name='visible', checked=post.visible)

      .form-actions
        button.btn.btn-primary(name='send') Send
        button.btn.btn-default.disabled.hide(name='sending') Sending
