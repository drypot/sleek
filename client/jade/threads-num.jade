extends layout

block title
	title #{thread.title} - #{siteTitle}

block content

	script
		init.add(function () {
			post.initThreadPage();
		});

	.page-header
		h2 #{thread.title}

	#content
		.posts
			for post in posts
				.post(id=post.id)
					h5 #{post.writer}
						small !{post.createdStr}
					if post.files
						.list-unstyled.files
							for file in post.files
								.file
									a(href=file.url, target='_blank') #{file.name}
					.t
						pre #{post.text}
					if post.editable
						.cmd
							a.btn(href='/threads/' + thread._id + '/' + post.id + '/edit') Edit
		h2 Reply
		form#reply-form(action='/threads/' + thread._id, method="post", enctype="multipart/form-data")
			.row
				label 필명
				br
				input.col-span-4(name='writer', type='text', value='', maxlength='32')
			.row
				label 내용
				textarea(name='text', style='height: 450px;')
			//
				.well.well-small
				input.file(name='files', type='file', multiple='multiple')
				br
				button.btn.btn-small
					i.icon-plus
			hr
			button.btn.btn-primary(name='send', type='submit') Send
			button.btn.disabled.hide(name='sending', type='button') Sending